<app-navbar></app-navbar>

<div class="upper-side">
    <h3>Perfil</h3>
</div>

<hr class="profile-divider">

<div class="container-fluid">
    <div class="row">
        <div class="col-md-3 col-lg-2 sidebar-container">
            <div class="sidebar-menu">
                <p><a routerLink="/profile">Informação da Conta</a></p>
                <p><a routerLink="/profile/paymentinformation">Informação de Pagamento</a></p>
                <p><a routerLink="/profile/travelhistory">Histórico de Viagens</a></p>
            </div>
        </div>
        
        <div class="col-md-9 col-lg-10 main-content">
            <div class="main-content-upper">
                <div class="upper-side-content">
                    <h3>Informação de Pagamento</h3>
                    <p>Atualize seus cartões e detalhes de pagamento aqui</p>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" (click)="addNewCard()"><i class="bi bi-plus"></i> Novo</button>
                </div>
            </div>

            <hr class="profile-divider-smaller">

            <div class="cards-section">
                <h4>Cartões Salvos</h4>
                
                <div class="security-banner">
                    <i class="bi bi-shield-check"></i>
                    <span>Utilizamos tecnologias de criptografia para garantir a proteção total dos seus dados.</span>
                </div>

                <div class="payment-cards">
                    <div class="payment-card" *ngFor="let card of cards" (click)="setDefaultCard(card.id)">
                        <div class="card-icon">
                            <img src="assets/mastercard-icon.png" alt="Mastercard">
                        </div>
                        <div class="card-info">
                            <h5>{{card.type}} que encerra em {{card.lastDigits}}</h5>
                            <p>Expira {{card.expiry}}</p>
                        </div>
                        <div class="card-actions">
                            <div class="default-toggle">
                                <input type="checkbox" 
                                       [id]="'default-' + card.id" 
                                       class="default-checkbox"
                                       [checked]="card.isDefault"
                                       (click)="$event.stopPropagation()">
                                <label [for]="'default-' + card.id">Default</label>
                            </div>
                            <button class="edit-btn" (click)="editCard(card.id); $event.stopPropagation()"><i class="bi bi-pencil"></i> Edit</button>
                        </div>
                    </div>
                </div>
            </div>

            
        </div>
    </div>
</div>
