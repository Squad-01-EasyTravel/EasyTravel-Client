<app-navbar></app-navbar>

<!-- Seção Hero -->
<section class="hero-section">
  <div class="hero-background">
    <div class="hero-overlay"></div>
    <div class="hero-decoration"></div>
  </div>

  <div class="container">
    <div class="row align-items-center min-vh-100">
      <div class="col-lg-6">
        <div class="hero-content">
          <div class="hero-badge">
            <i class="fas fa-plane"></i>
            <span>Explore o Mundo</span>
          </div>

          <h1 class="hero-title">
            Descubra Destinos
            <span class="hero-highlight">Incríveis</span>
          </h1>

          <p class="hero-description">
            Planeje sua próxima aventura com nossos pacotes completos. Oferecemos as melhores experiências de viagem com preços acessíveis e qualidade garantida.
          </p>

          <!-- Formulário de Busca -->
          <div class="hero-search-wrapper">
            <div class="search-tabs">
              <button class="search-tab active">
                <i class="fas fa-map-marker-alt"></i>
                Destinos
              </button>
            </div>

            <div class="hero-search-form">
              <div class="search-container">
                <div class="search-row">
                  <div class="search-field">
                    <label class="search-label">Local de Partida</label>
                    <select class="search-select" [(ngModel)]="origemSelecionada">
                      <option value="">Selecione sua cidade</option>
                      <option 
                        *ngFor="let location of locations" 
                        [value]="getLocationValue(location)">
                        {{formatLocation(location)}}
                      </option>
                    </select>
                  </div>
                  <div class="search-field">
                    <label class="search-label">Local de Destino</label>
                    <select class="search-select" [(ngModel)]="destinoSelecionada">
                      <option value="">Para onde você quer ir?</option>
                      <option 
                        *ngFor="let location of locations" 
                        [value]="getLocationValue(location)">
                        {{formatLocation(location)}}
                      </option>
                    </select>
                  </div>
                </div>

                

                  

                <button class="search-btn" (click)="buscarViagens()">
                  <i class="fas fa-search"></i>
                  Buscar Viagens
                </button>
              </div>
            </div>
          </div>

          <div class="hero-stats">
            <div class="stat-item">
              <span class="stat-number">50K+</span>
              <span class="stat-label">Viajantes</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">200+</span>
              <span class="stat-label">Destinos</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">98%</span>
              <span class="stat-label">Satisfação</span>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="hero-visual">
          <div class="hero-image-container">
            <div class="hero-floating-elements">
              <div class="floating-card card-1">
                <i class="fas fa-map-marked-alt"></i>
                <span>Explore</span>
              </div>
              <div class="floating-card card-2">
                <i class="fas fa-camera"></i>
                <span>Capture</span>
              </div>
              <div class="floating-card card-3">
                <i class="fas fa-heart"></i>
                <span>Ame</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!--Contéudo da Pagina-->

<!-- Título da seção -->
<section class="offers-title-section py-4">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <h2 class="offers-main-title">Melhores Ofertas Para Você</h2>
      </div>
    </div>
  </div>
</section>

<!-- Seção de Ilustrações com Placeholders -->
<section class="illustration-section py-5">
  <div class="container">
    <div class="row g-4">
      <!-- Primeira ilustração -->
      <div class="col-lg-4 col-md-6">
        <div class="illustration-card text-center">
          <div class="illustration-placeholder mb-4">
            <i class="fas fa-calendar-alt illustration-icon"></i>
          </div>
          <h4 class="illustration-title">Viagem dos Sonhos</h4>
          <p class="illustration-text">
            Escolha uma data flexível e encontre as melhores ofertas de viagem para seu destino dos sonhos. Nossa plataforma oferece opções personalizadas para cada tipo de viajante.
          </p>
        </div>
      </div>

      <!-- Segunda ilustração -->
      <div class="col-lg-4 col-md-6">
        <div class="illustration-card text-center">
          <div class="illustration-placeholder mb-4">
            <i class="fas fa-map-marked-alt illustration-icon"></i>
          </div>
          <h4 class="illustration-title">Sua próxima viagem começa com um clique</h4>
          <p class="illustration-text">
            Com apenas alguns cliques você pode ter sua viagem dos sonhos. Nossa plataforma é intuitiva e fácil de usar, garantindo a melhor experiência de reserva.
          </p>
        </div>
      </div>

      <!-- Terceira ilustração -->
      <div class="col-lg-4 col-md-6">
        <div class="illustration-card text-center">
          <div class="illustration-placeholder mb-4">
            <i class="fas fa-shield-alt illustration-icon"></i>
          </div>
          <h4 class="illustration-title">Viajar bem não precisa ser complicado</h4>
          <p class="illustration-text">
            Com a EasyTravel, você tem segurança, praticidade e os melhores preços em um só lugar. Deixe-nos cuidar dos detalhes enquanto você aproveita a viagem.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Transição com cor sólida -->
<section class="transition-section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <div class="transition-placeholder">
          <i class="fas fa-globe-americas transition-icon"></i>
          <h2 class="transition-title">Pacotes Custo Benefício</h2>
          <p class="transition-subtitle">Descubra destinos incríveis com os melhores preços</p>
        </div>
      </div>
    </div>
  </div>
</section>

<app-trip-carousel></app-trip-carousel>

<!-- Seção de Marketing da Empresa -->
<section class="marketing-section py-5 mt-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 order-lg-1 order-2">
        <div class="marketing-content">
          <h2 class="marketing-title">Por que escolher a EasyTravel?</h2>
          <p class="marketing-subtitle">Mais de 10 anos conectando você aos seus sonhos</p>

          <div class="marketing-features">
            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-award"></i>
              </div>
              <div class="feature-content">
                <h5>Experiência Comprovada</h5>
                <p>Mais de 50.000 viajantes satisfeitos em todo o Brasil</p>
              </div>
            </div>

            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-hand-holding-heart"></i>
              </div>
              <div class="feature-content">
                <h5>Atendimento Personalizado</h5>
                <p>Suporte 24/7 com consultores especializados em destinos</p>
              </div>
            </div>

            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-lock"></i>
              </div>
              <div class="feature-content">
                <h5>Segurança Garantida</h5>
                <p>Parceiros certificados e pagamento 100% seguro</p>
              </div>
            </div>

            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-piggy-bank"></i>
              </div>
              <div class="feature-content">
                <h5>Melhor Preço</h5>
                <p>Encontrou mais barato? Igualamos o preço!</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6 order-lg-2 order-1">
        <div class="marketing-image">
          <div class="image-placeholder">
            <i class="fas fa-plane marketing-plane-icon"></i>
            <div class="floating-elements">
              <div class="element element-1"><i class="fas fa-map-marker-alt"></i></div>
              <div class="element element-2"><i class="fas fa-camera"></i></div>
              <div class="element element-3"><i class="fas fa-suitcase"></i></div>
              <div class="element element-4"><i class="fas fa-heart"></i></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Transição para Pacotes Populares -->
<section class="transition-section-popular">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <div class="transition-placeholder">
          <i class="fas fa-star transition-icon-popular"></i>
          <h2 class="transition-title">Pacotes Populares</h2>
          <p class="transition-subtitle">Os destinos mais procurados pelos nossos clientes</p>
        </div>
      </div>
    </div>
  </div>
</section>

<app-popular-packages></app-popular-packages>

<!-- Seção de Avaliações -->
<section class="reviews-section py-5 mt-5">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center mb-5">
        <h2 class="section-title">Clientes da EasyTravel</h2>
        <p class="section-subtitle">Veja o que nossos clientes dizem sobre nossas viagens</p>
        <!-- <img src="http://localhost:8080/uploads/OIPGOIANIA1.jpg" alt="Goiânia" /> -->
      </div>
    </div>

    <!-- Carousel de Avaliações -->
    <div *ngIf="hasReviews()" id="reviewsCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
      <div class="carousel-inner">
        <!-- Slides dinâmicos baseados nas reviews da API -->
        <div class="carousel-item" 
             *ngFor="let reviewGroup of getReviewGroups(); let i = index" 
             [class.active]="i === 0">
          <div class="container">
            <div class="row justify-content-center">
              <!-- Cards de review dinamicos -->
              <div *ngFor="let review of reviewGroup; let j = index"
                   class="col-12 col-sm-6 col-md-4 col-lg-4 col-xl-4 mb-4 d-flex justify-content-center">
                <div class="review-card h-100" style="width: 100%; max-width: 400px;">
                  <div class="review-header">
                    <div class="reviewer-avatar">
                      <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="reviewer-info">
                      <h6 class="reviewer-name">{{review.userName}}</h6>
                      <div class="review-rating">
                        <span class="rating-number">{{review.ratingNumber}}</span>
                        <div class="stars">
                          <i *ngFor="let star of getStarsArray(review.ratingNumber)" 
                             [class]="star === 1 ? 'fas fa-star' : star === 0.5 ? 'fas fa-star-half-alt' : 'far fa-star'"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="review-content">
                    <p>"{{review.comment}}"</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Controles do carousel -->
      <button class="carousel-control-prev" type="button" data-bs-target="#reviewsCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Anterior</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#reviewsCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Próximo</span>
      </button>

      <!-- Indicadores dinâmicos -->
      <div class="carousel-indicators">
        <button *ngFor="let group of getReviewGroups(); let i = index"
                type="button" 
                data-bs-target="#reviewsCarousel" 
                [attr.data-bs-slide-to]="i" 
                [class.active]="i === 0"
                [attr.aria-current]="i === 0 ? 'true' : null"
                [attr.aria-label]="'Slide ' + (i + 1)"></button>
      </div>
    </div>

    <!-- Mensagem caso não haja reviews -->
    <div *ngIf="!hasReviews()" class="text-center py-5">
      <div class="alert alert-light border">
        <i class="fas fa-star-o me-2"></i>
        Nenhuma avaliação disponível no momento.
      </div>
    </div>
  </div>
</section>

<app-footer></app-footer>
