<div class="register-image__container">
  <div class="register-image__content register-content">
    <img src="assets/imgs/registerImage.jpg" alt="Imagem de fundo" class="register-image__banner" />

    <div class="register-form__wrapper">
      <h3 class="register-form__title">Crie uma conta</h3>

      <div class="register-form__container">
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">

          <!-- Campo Nome -->
          <div class="form-field">
            <input
              type="text"
              id="name"
              formControlName="name"
              class="register-form__input"
              [class]="getFieldValidationClass('name')"
              placeholder="Digite seu nome completo"
              (focus)="nameValidation.onFocus()"
              (blur)="nameValidation.onBlur()"
              autocomplete="name" />

            <app-validation-indicator
              #nameValidation
              [control]="nameControl"
              type="name"
              [position]="'right'"
              [showOnFocus]="true">
            </app-validation-indicator>
          </div>

          <!-- Campo E-mail -->
          <div class="form-field">
            <input
              type="email"
              id="email"
              formControlName="email"
              class="register-form__input"
              [class]="getFieldValidationClass('email')"
              placeholder="Digite seu e-mail"
              (focus)="emailValidation.onFocus()"
              (blur)="emailValidation.onBlur()"
              autocomplete="email" />

            <app-validation-indicator
              #emailValidation
              [control]="emailControl"
              type="email"
              [position]="'right'"
              [showOnFocus]="true">
            </app-validation-indicator>
          </div>

          <!-- Campo Senha -->
          <div class="form-field">
            <input
              type="password"
              id="password"
              formControlName="password"
              class="register-form__input"
              [class]="getFieldValidationClass('password')"
              placeholder="Crie uma senha segura"
              (focus)="passwordValidation.onFocus()"
              (blur)="passwordValidation.onBlur()"
              autocomplete="new-password" />

            <app-validation-indicator
              #passwordValidation
              [control]="passwordControl"
              type="password"
              [position]="'right'"
              [showOnFocus]="true">
            </app-validation-indicator>
          </div>

          <!-- Campo CPF -->
          <div class="form-field">
            <input
              type="text"
              id="cpf"
              formControlName="cpf"
              class="register-form__input"
              [class]="getFieldValidationClass('cpf')"
              placeholder="Digite seu CPF (000.000.000-00)"
              (input)="onCpfInput($event)"
              (focus)="cpfValidation.onFocus()"
              (blur)="cpfValidation.onBlur()"
              maxlength="14" />

            <app-validation-indicator
              #cpfValidation
              [control]="cpfControl"
              type="cpf"
              [position]="'right'"
              [showOnFocus]="true">
            </app-validation-indicator>
          </div>

          <!-- Campo Telefone -->
          <div class="form-field">
            <input
              type="tel"
              id="telephone"
              formControlName="telephone"
              class="register-form__input"
              [class]="getFieldValidationClass('telephone')"
              placeholder="Digite seu telefone (00) 00000-0000"
              (input)="onPhoneInput($event)"
              (focus)="phoneValidation.onFocus()"
              (blur)="phoneValidation.onBlur()"
              maxlength="15" />

            <app-validation-indicator
              #phoneValidation
              [control]="telephoneControl"
              type="phone"
              [position]="'right'"
              [showOnFocus]="true">
            </app-validation-indicator>
          </div>

          <!-- Campo Passaporte (Opcional) -->
          <div class="form-field">
            <input
              type="text"
              id="passport"
              formControlName="passport"
              class="register-form__input"
              placeholder="Passaporte (opcional)" />
          </div>

          <button
            type="submit"
            class="register-form__button"
            [disabled]="registerForm.invalid || isLoading"
            [class.loading]="isLoading">
            <span *ngIf="!isLoading">Registrar</span>
            <span *ngIf="isLoading">
              <i class="bi bi-arrow-clockwise spin"></i>
              Registrando...
            </span>
          </button>
        </form>

        <div class="register-form__login">
          <p>
            JÃ¡ possui uma conta?
            <a routerLink="/auth/login" class="register-form__link">Entrar</a>
          </p>
        </div>
      </div>

      <div class="register-image__mascot">
        <img src="assets/imgs/et_mascote.png" alt="Imagem mascote" />
      </div>
    </div>
  </div>
</div>
